<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>YiLaGuan</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
<<<<<<< HEAD
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
=======
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
>>>>>>> 0c0d539ac4821b5ac2b48af316634b44fe00cb9f
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">YiLaGuan </a></h1>
                <nav><ul>
<<<<<<< HEAD
                    <li><a href="/category/python.html">python</a></li>
                </ul></nav>
=======
                    <li><a href="/category/adf.html">adf</a></li>
                    <li><a href="/category/docs.html">docs</a></li>
                    <li><a href="/category/linux.html">linux</a></li>
                    <li><a href="/category/python.html">python</a></li>
                </ul>
                </nav>
>>>>>>> 0c0d539ac4821b5ac2b48af316634b44fe00cb9f
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
<<<<<<< HEAD
                    <h1 class="entry-title"><a href="/Python.html">Python 柱状动图</a></h1>
<footer class="post-info">
        <abbr class="published" title="2015-10-28T00:00:00+08:00">
                Published: Wed 28 October 2015
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/yihan.html">YiHan</a>
        </address>
<p>In <a href="/category/python.html">python</a>.</p>
<p>tags: <a href="/tag/python.html">Python</a> <a href="/tag/matplotlib.html">matplotlib</a> </p>
</footer><!-- /.post-info --><h1>Python 柱状动图</h1>
<h2>安装依赖</h2>
=======
                    <h1 class="entry-title"><a href="/ADF.html">发布ADF Essentials 至Glassfish</a></h1>
<footer class="post-info">
        <span>Thu 29 October 2015</span>
<span>| tags: <a href="/tag/oracle.html">Oracle</a><a href="/tag/adf.html">ADF</a><a href="/tag/glassfish.html">glassfish</a></span>
</footer><!-- /.post-info --><h2>软件安装</h2>
<h3>JAVA</h3>
<div class="highlight"><pre><span class="x">JAVA_HOME=/home/yihan/glassfish/jdk1.8.0_65</span>
<span class="x">export PATH=</span><span class="p">$</span><span class="nv">JAVA_HOME</span><span class="x">/bin:</span><span class="p">$</span><span class="nv">PATH</span><span class="x"></span>
</pre></div>


<h3>Glassfish</h3>
<ul>
<li>Oracle GlassFish Sever is commercially supported version of GlassFish v3. It is recommended for production environments. 
Below is V4  </li>
<li>下载: https://glassfish.java.net/download.html</li>
<li>unzip glassfish-4.1.1*zip</li>
<li>glassfish4/bin/asadmin start-domain</li>
</ul>
<h3>ADF Essentials</h3>
<ul>
<li>下载： http://www.oracle.com/technetwork/developer-tools/adf/downloads/index.html<ul>
<li>Oracle ADF Essentials</li>
<li>Oracle ADF Faces Components Demo</li>
</ul>
</li>
<li>复制到domain目录下的lib目录：/home/yihan/glassfish/glassfish4/glassfish/domains/domain1/lib</li>
<li>unzip <strong>-j</strong> adf_essentials.zip</li>
</ul>
<h2>配置Glassfish</h2>
<h3>更改端口号</h3>
<ul>
<li>/home/yihan/glassfish/glassfish4/glassfish/domains/domain1/config/domain.xml</li>
</ul>
<div class="highlight"><pre><span class="nt">&lt;network-listener</span> <span class="na">protocol=</span><span class="s">&quot;http-listener-1&quot;</span> <span class="na">port=</span><span class="s">&quot;8080&quot;</span> <span class="na">name=</span><span class="s">&quot;http-listener-1&quot;</span> <span class="na">thread-pool=</span><span class="s">&quot;http-thread-pool&quot;</span> <span class="na">transport=</span><span class="s">&quot;tcp&quot;</span><span class="nt">&gt;&lt;/network-listener&gt;</span>
          <span class="nt">&lt;network-listener</span> <span class="na">protocol=</span><span class="s">&quot;http-listener-2&quot;</span> <span class="na">port=</span><span class="s">&quot;8181&quot;</span> <span class="na">name=</span><span class="s">&quot;http-listener-2&quot;</span> <span class="na">thread-pool=</span><span class="s">&quot;http-thread-pool&quot;</span> <span class="na">transport=</span><span class="s">&quot;tcp&quot;</span><span class="nt">&gt;&lt;/network-listener&gt;</span>
          <span class="nt">&lt;network-listener</span> <span class="na">protocol=</span><span class="s">&quot;pu-protocol&quot;</span> <span class="na">port=</span><span class="s">&quot;4848&quot;</span> <span class="na">name=</span><span class="s">&quot;admin-listener&quot;</span> <span class="na">thread-pool=</span><span class="s">&quot;admin-thread-pool&quot;</span> <span class="na">transport=</span><span class="s">&quot;tcp&quot;</span><span class="nt">&gt;&lt;/network-listener&gt;</span>
</pre></div>


<p>、</p>
<h3>允许远程登陆</h3>
<p><code>./asadmin --host localhost --port 4848 enable-secure-admin</code></p>
<h3>配置参数</h3>
<ul>
<li>url: http://localhost:4848 or https://localhost:54848<ul>
<li>Go to Configurations-&gt;Server-config-&gt;JVM Settings and choose the JVM Options tab</li>
<li>Add the following entries:</li>
<li>-XX:MaxPermSize=512m (note this entry should already exist so just make sure it has a big enough value)</li>
<li>-Doracle.mds.cache=simple</li>
</ul>
</li>
</ul>
<h3>重启</h3>
<ul>
<li>./asadmin restart-domain</li>
</ul>
<h2>配置数据库</h2>
<h3>添加连接池</h3>
<div class="highlight"><pre><span class="o">./</span><span class="nt">asadmin</span> <span class="nt">--host</span> <span class="nt">localhost</span> <span class="nt">--port</span> <span class="nt">54848</span> <span class="nt">create-jdbc-connection-pool</span> <span class="nt">--datasourceclassname</span> <span class="nt">oracle</span><span class="nc">.jdbc.xa.client.OracleXADataSource</span> <span class="nt">--restype</span> <span class="nt">javax</span><span class="nc">.sql.XADataSource</span> <span class="nt">--property</span> <span class="nt">portNumber</span><span class="o">=</span><span class="nt">1530</span><span class="nd">:password</span><span class="o">=</span><span class="nt">APPS</span><span class="nd">:user</span><span class="o">=</span><span class="nt">APPS</span><span class="nd">:serverName</span><span class="o">=</span><span class="nt">localhost</span><span class="nd">:databaseName</span><span class="o">=</span><span class="nt">DEMO</span><span class="nd">:connectionAttributes</span><span class="o">=</span><span class="err">\</span><span class="o">;</span> <span class="nt">adf_pool</span>
</pre></div>


<h3>添加连接</h3>
<div class="highlight"><pre>./asadmin --host localhost --port 54848 create-jdbc-resource --connectionpoolid adf_pool jdbc/HRDS
</pre></div>


<h3>重启</h3>
<h2>添加demo至application</h2>
<p>Application-&gt;Deploy...-&gt;Choose File-&gt;Type: Web Application-&gt;OK</p>
<hr />
<h2>reference documentation</h2>
<ul>
<li><a href="https://blogs.oracle.com/shay/entry/deploying_oracle_adf_applications_to">https://blogs.oracle.com/shay/entry/deploying_oracle_adf_applications_to</a></li>
<li><a href="http://blog-raphaufrj.rhcloud.com/running-adf-essentials-in-tomcat/">http://blog-raphaufrj.rhcloud.com/running-adf-essentials-in-tomcat/</a></li>
<li><a href="http://docs.oracle.com/cd/E18930_01/html/821-2433/gentextid-110.html#scrolltoc">http://docs.oracle.com/cd/E18930_01/html/821-2433/gentextid-110.html#scrolltoc</a></li>
</ul>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="/Linux.html" rel="bookmark"
                           title="Permalink to 命令-赶紧的">命令-赶紧的</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Thu 29 October 2015</span>
<span>| tags: <a href="/tag/linux.html">Linux</a></span>
</footer><!-- /.post-info -->                <h2>查看端口的占用情况</h2>
<p>netstat -tln</p>
                <a class="readmore" href="/Linux.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/good-good-good-wen.html" rel="bookmark"
                           title="Permalink to Good Good Good 文">Good Good Good 文</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Thu 29 October 2015</span>
<span>| tags: <a href="/tag/docs.html">Docs</a><a href="/tag/python.html">Python</a></span>
</footer><!-- /.post-info -->                <h1>Python</h1>
<ol>
<li><a href="http://python.net/~goodger/projects/pycon/2007/idiomatic/handout.html">Code Like a Pythonista: Idiomatic Python</a></li>
</ol>
                <a class="readmore" href="/good-good-good-wen.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>

            <li><article class="hentry">
                <header>
                    <h1><a href="/Python.html" rel="bookmark"
                           title="Permalink to Python 柱状动图">Python 柱状动图</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <span>Wed 28 October 2015</span>
<span>| tags: <a href="/tag/python.html">Python</a><a href="/tag/matplotlib.html">matplotlib</a></span>
</footer><!-- /.post-info -->                <h2>安装依赖</h2>
>>>>>>> 0c0d539ac4821b5ac2b48af316634b44fe00cb9f
<ul>
<li>apt-get install python-numpy</li>
<li>sudo apt-get install matplotlib</li>
</ul>
<h2>代码</h2>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">Bar</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">datas</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">matplotlib</span>
        <span class="kn">import</span> <span class="nn">time</span>
        <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
        <span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="kp">array</span>

        <span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s">&#39;TKAgg&#39;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">animated_barplot</span><span class="p">():</span>
            <span class="c"># http://www.scipy.org/Cookbook/Matplotlib/Animations</span>

            <span class="n">x</span> <span class="o">=</span> <span class="kp">array</span><span class="p">(</span><span class="n">datas</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">print</span> <span class="n">x</span>
<<<<<<< HEAD
            <span class="n">rects</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)),</span> <span class="n">x</span><span class="p">,</span>  <span class="n">align</span><span class="o">=</span><span class="s">&#39;center&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">datas</span><span class="p">)):</span>
                <span class="k">print</span> <span class="n">datas</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">x</span> <span class="o">=</span> <span class="kp">array</span><span class="p">(</span><span class="n">datas</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">rect</span><span class="p">,</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">rects</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
                    <span class="n">rect</span><span class="o">.</span><span class="n">set_height</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
                <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

        <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
        <span class="n">win</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">window</span>
        <span class="n">win</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">animated_barplot</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>


<h2>Test Case</h2>
<div class="highlight"><pre>def test():
    datas = [
        [4, 36, 11, 32, 87, 56, 18, 51, 91, 94, 37,
            20, 32, 53, 44, 27, 47, 67, 10, 97],
        [4, 10, 11, 32, 87, 56, 18, 51, 91, 94, 37,
         20, 32, 53, 44, 27, 47, 67, 36, 97],
        [4, 10, 11, 32, 87, 56, 18, 51, 91, 94, 37,
         20, 32, 53, 44, 27, 47, 67, 36, 97],
        [4, 10, 11, 18, 87, 56, 32, 51, 91, 94, 37,
         20, 32, 53, 44, 27, 47, 67, 36, 97],
        [4, 10, 11, 18, 20, 56, 32, 51, 91, 94, 37,
         87, 32, 53, 44, 27, 47, 67, 36, 97],
        [4, 10, 11, 18, 20, 27, 32, 51, 91, 94, 37,
         87, 32, 53, 44, 56, 47, 67, 36, 97],
        [4, 10, 11, 18, 20, 27, 32, 51, 91, 94, 37,
         87, 32, 53, 44, 56, 47, 67, 36, 97],
        [4, 10, 11, 18, 20, 27, 32, 32, 91, 94, 37,
         87, 51, 53, 44, 56, 47, 67, 36, 97],
        [4, 10, 11, 18, 20, 27, 32, 32, 36, 94, 37,
         87, 51, 53, 44, 56, 47, 67, 91, 97],
        [4, 10, 11, 18, 20, 27, 32, 32, 36, 37, 94,
         87, 51, 53, 44, 56, 47, 67, 91, 97],
        [4, 10, 11, 18, 20, 27, 32, 32, 36, 37, 44,
         87, 51, 53, 94, 56, 47, 67, 91, 97],
        [4, 10, 11, 18, 20, 27, 32, 32, 36, 37, 44,
         47, 51, 53, 94, 56, 87, 67, 91, 97],
        [4, 10, 11, 18, 20, 27, 32, 32, 36, 37, 44,
         47, 51, 53, 94, 56, 87, 67, 91, 97],
        [4, 10, 11, 18, 20, 27, 32, 32, 36, 37, 44,
         47, 51, 53, 94, 56, 87, 67, 91, 97],
        [4, 10, 11, 18, 20, 27, 32, 32, 36, 37, 44,
         47, 51, 53, 56, 94, 87, 67, 91, 97],
        [4, 10, 11, 18, 20, 27, 32, 32, 36, 37, 44,
         47, 51, 53, 56, 67, 87, 94, 91, 97],
        [4, 10, 11, 18, 20, 27, 32, 32, 36, 37, 44,
         47, 51, 53, 56, 67, 87, 94, 91, 97],
        [4, 10, 11, 18, 20, 27, 32, 32, 36, 37, 44,
         47, 51, 53, 56, 67, 87, 91, 94, 97],
        [4, 10, 11, 18, 20, 27, 32, 32, 36, 37, 44,
         47, 51, 53, 56, 67, 87, 91, 94, 97],
        [4, 10, 11, 18, 20, 27, 32, 32, 36, 37,
            44, 47, 51, 53, 56, 67, 87, 91, 94, 97]
    ]

    Bar.show(datas)

if __name__ == &#39;__main__&#39;:
    test()
</pre></div>                </article>
            </aside><!-- /#featured -->
=======
            <span class="n">rects</span> <span class="o">=</span> <span class="n">plt ...</span></pre></div>
                <a class="readmore" href="/Python.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
            </ol><!-- /#posts-list -->
<p class="paginator">
    Page 1 / 1
</p>
            </section><!-- /#content -->
>>>>>>> 0c0d539ac4821b5ac2b48af316634b44fe00cb9f
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="http://www.yilaguan.cc/cs">CodeSearch</a></li>
                            <li><a href="http://123.56.41.91/cs">CodeSearch_IP_IP</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
<<<<<<< HEAD
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
=======
                <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.</p>
>>>>>>> 0c0d539ac4821b5ac2b48af316634b44fe00cb9f
        </footer><!-- /#contentinfo -->

</body>
</html>